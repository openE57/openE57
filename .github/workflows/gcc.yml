name: gcc build

on:
  push:
  pull_request:

jobs:
  build:
    runs-on: ubuntu-20.04
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-python@v2
      - name: install-conan
        run: |
            pip install conan
            conan profile new default --detect
            conan profile update settings.compiler.libcxx=libstdc++11 default
      - name: build library
        run: |
            ls -l
            mkdir -p build && cd build
            conan install ../.. --build=missing
            cmake ../.. -DBUILD_EXAMPLES=ON -DBUILD_TOOLS=ON -DCMAKE_BUILD_TYPE=Release
            conan --build .
  
